#this is the class for master
import sys
import random


class  Master(process):
	def setup(n):
		self.resp = {}
	
	def main():
		if await(len(listof(p, received(('request',id), from_= p))) == n):
			output("every client has a server:\n")
			if len(resp)!=0:
				for k, v in resp.items():
				    message = "process:  value: %i"%(v)
				    output(message)
			
	def recv(msg=('request',(rlc,rid)), from_=p):
		random.seed()
		c = random.randint(0,50)
		k=p
		lc = logical_clock()
		send(('reply',(rlc,rid)), to = rid)
		resp[rid] = c

